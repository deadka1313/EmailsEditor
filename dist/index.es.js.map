{"version":3,"file":"index.es.js","sources":["../src/constants.ts","../src/helpers.ts","../src/FormDom.ts","../src/index.ts"],"sourcesContent":["export const checkregularEmail = /^((\"[\\w-\\s]+\")|([\\w-]+(?:\\.[\\w-]+)*)|(\"[\\w-\\s]+\")([\\w-]+(?:\\.[\\w-]+)*))(@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$)|(@\\[?((25[0-5]\\.|2[0-4][0-9]\\.|1[0-9]{2}\\.|[0-9]{1,2}\\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\]?$)/i;\r\n","import { checkregularEmail } from './constants';\r\nimport { IEmailIsValid } from './core/IEmailIsValid';\r\n\r\nexport const checkValidEmail = (email: string): boolean => {\r\n    const pattern = new RegExp(checkregularEmail);\r\n    return pattern.test(email);\r\n};\r\n\r\nexport const checkEnterLetter = (word: string): boolean => {\r\n    return /[\\s,]/g.test(word);\r\n};\r\n\r\nexport const checkValidationEmails = (emails: IEmailIsValid[]): IEmailIsValid[] => {\r\n    return emails.filter(item => item.isValid);\r\n};\r\n\r\nexport const checkForRepeatedEmails = (email: string, emails: IEmailIsValid[]): boolean => {\r\n    for (let i = 0; i < emails.length; i++) {\r\n        if (emails[i].name === email) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n};\r\n\r\nexport const notEmpty = <T>(item: T): T => {\r\n    if (item) {\r\n        return item;\r\n    } else {\r\n        throw new Error(`Empty property ${item}`);\r\n    }\r\n};\r\n","import { notEmpty } from './helpers';\r\nimport { IEmailIsValid } from './core/IEmailIsValid';\r\n\r\nexport default class FormDom {\r\n    private readonly element: HTMLElement;\r\n    private readonly placeholderElement: HTMLElement;\r\n    private readonly wrapperForm: HTMLElement;\r\n\r\n    private readonly hideElementWidthForInput: HTMLElement;\r\n\r\n    private setFocusInput = (e: Event | null): void => {\r\n        if (\r\n            e &&\r\n            this.inputElement &&\r\n            (e.target as HTMLTextAreaElement).className.indexOf('emails-editor_input') === -1 &&\r\n            (e.target as HTMLTextAreaElement).className.indexOf('emails-editor_closebtn') === -1 &&\r\n            (e.target as HTMLTextAreaElement).className.indexOf('emails-editor_email') === -1\r\n        ) {\r\n            this.inputElement.focus();\r\n        }\r\n    };\r\n\r\n    private onInput = (e: Event): void => {\r\n        const value = (e.target as HTMLTextAreaElement)?.value;\r\n        this.inputElement.style.width = 2 + this.getTextWidth(value) + 'px';\r\n        if (value) {\r\n            this.placeholderElement.style.display = 'none';\r\n        } else if (this.placeholderElement.style.display === 'none') {\r\n            this.placeholderElement.style.display = 'inline-block';\r\n        }\r\n    };\r\n\r\n    private getTextWidth = (value = ''): number => {\r\n        this.hideElementWidthForInput.innerHTML = value;\r\n        return this.hideElementWidthForInput.offsetWidth;\r\n    };\r\n\r\n    constructor(elem: HTMLElement) {\r\n        this.element = elem;\r\n\r\n        this.element.innerHTML =\r\n            '<div class=\"emails-editor_form\">' +\r\n            '<span class=\"email-editor_wrapper-emails\">' +\r\n            '</span>' +\r\n            '<input class=\"emails-editor_input\" />' +\r\n            '<span class=\"emails-editor_fake-span\">' +\r\n            '</span>' +\r\n            '<span class=\"emails-editor_placeholder\">add more peopleâ€¦</span>' +\r\n            '</div>';\r\n\r\n        this.placeholderElement = notEmpty(this.element.querySelector('.emails-editor_placeholder') as HTMLElement);\r\n        this.wrapperForm = notEmpty(this.element.querySelector('.emails-editor_form') as HTMLElement);\r\n        this.inputElement = notEmpty(this.element.querySelector('.emails-editor_input') as HTMLTextAreaElement);\r\n        this.wrapperEmails = notEmpty(this.element.querySelector('.email-editor_wrapper-emails') as HTMLElement);\r\n        this.hideElementWidthForInput = notEmpty(this.element.querySelector('.emails-editor_fake-span') as HTMLElement);\r\n\r\n        this.wrapperForm.addEventListener('click', e => this.setFocusInput(e));\r\n        this.inputElement.addEventListener('input', e => this.onInput(e));\r\n    }\r\n\r\n    readonly inputElement: HTMLTextAreaElement;\r\n    readonly wrapperEmails: HTMLElement;\r\n\r\n    addEmailDOM = (email: IEmailIsValid): void => {\r\n        if (this.wrapperForm) {\r\n            this.wrapperForm.scrollTop = this.wrapperForm.scrollHeight;\r\n        }\r\n        const newElement = document.createElement('span');\r\n        newElement.innerHTML = email.name;\r\n        newElement.className = `emails-editor_email emails-editor_email__${email.isValid ? 'valid' : 'invalid'}`;\r\n        newElement.dataset.emailName = email.name;\r\n\r\n        const newDeleteItemElement = document.createElement('span');\r\n        newDeleteItemElement.innerHTML = '&times;';\r\n        newDeleteItemElement.className = 'emails-editor_closebtn';\r\n        newElement.appendChild(newDeleteItemElement);\r\n\r\n        this.wrapperEmails.appendChild(newElement);\r\n    };\r\n\r\n    removeEmailDOM = (name: string): void => {\r\n        const item = this.wrapperEmails.querySelector(`[data-email-name=\"${name}\"]`);\r\n        item?.parentNode?.removeChild(item);\r\n    };\r\n\r\n    resetInput = (): void => {\r\n        this.inputElement.value = '';\r\n        this.inputElement.style.width = 2 + this.getTextWidth() + 'px';\r\n        this.placeholderElement.style.display = 'inline-block';\r\n    };\r\n}\r\n","import './index.sass';\r\nimport { ICreateEmailForm } from './core/ICreateEmailForm';\r\nimport { IEmailIsValid } from './core/IEmailIsValid';\r\nimport { checkEnterLetter, checkForRepeatedEmails, checkValidationEmails, checkValidEmail } from './helpers';\r\nimport FormDom from './FormDom';\r\n\r\nexport default class CreateEmailForm implements ICreateEmailForm {\r\n    private formDom: FormDom;\r\n\r\n    private emails: IEmailIsValid[] = [];\r\n\r\n    private onChange = (e: Event | null): void => {\r\n        if (e) {\r\n            const value = (e.target as HTMLTextAreaElement).value;\r\n            if (value.length === 1 && checkEnterLetter(value)) {\r\n                this.formDom.resetInput();\r\n            }\r\n            if (value && value.length > 1 && checkEnterLetter(value)) {\r\n                this.addEmail(value);\r\n            }\r\n        }\r\n    };\r\n\r\n    private onBlur = (e: Event | null): void => {\r\n        if (e) {\r\n            const email = (e.target as HTMLTextAreaElement).value.replace(/(^\\s*)|(\\s*)$/g, '');\r\n            if (email) {\r\n                this.addEmail(email);\r\n            }\r\n        }\r\n    };\r\n\r\n    private enterValuesToStore = (): void => {\r\n        if (this.formDom.inputElement) {\r\n            const value = this.formDom.inputElement.value;\r\n            console.log(value);\r\n            this.addEmail(value);\r\n            this.formDom.resetInput();\r\n        }\r\n    };\r\n\r\n    private addEmail = (email: string): void => {\r\n        let inputEmails: string = email.replace(/(^\\s*)|(\\s*)$/g, '');\r\n        inputEmails = inputEmails.replace(/(,\\s*)$/g, ',');\r\n        const inputEmailsSplit: string[] = inputEmails.split(/\\s|,/).filter(item => item);\r\n        const newEmails: IEmailIsValid[] = inputEmailsSplit.map(item => {\r\n            return {\r\n                name: item,\r\n                isValid: checkValidEmail(item),\r\n            };\r\n        });\r\n        newEmails.map(item => {\r\n            if (!checkForRepeatedEmails(item.name, this.emails)) {\r\n                this.emails.push(item);\r\n                this.formDom.addEmailDOM(item);\r\n                const itemDOM = this.formDom.wrapperEmails.querySelector(`[data-email-name=\"${item.name}\"]`);\r\n                itemDOM?.addEventListener('click', e => this.removeEmail(e));\r\n            }\r\n        });\r\n\r\n        this.formDom.resetInput();\r\n    };\r\n\r\n    private removeEmail = (e: Event | null): void => {\r\n        if (e) {\r\n            const email = ((e.target as HTMLTextAreaElement).parentElement as HTMLElement).dataset.emailName as string;\r\n            this.emails = this.emails.filter(item => item.name !== email);\r\n            this.formDom.removeEmailDOM(email);\r\n        }\r\n    };\r\n\r\n    constructor(element: HTMLElement) {\r\n        this.formDom = new FormDom(element);\r\n\r\n        if (this.formDom.inputElement) {\r\n            // fix IE 11\r\n            const inputEventType = /Trident/.test(navigator.userAgent) ? 'textinput' : 'input';\r\n\r\n            this.formDom.inputElement.addEventListener(inputEventType, e => this.onChange(e));\r\n            this.formDom.inputElement.addEventListener('blur', e => this.onBlur(e));\r\n            this.formDom.inputElement.addEventListener('paste', () => {\r\n                this.enterValuesToStore();\r\n            });\r\n            this.formDom.inputElement.addEventListener('keydown', e => {\r\n                if ((e as KeyboardEvent).key === 'Enter') {\r\n                    this.enterValuesToStore();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    public setEmail(email: string): void {\r\n        this.addEmail(email);\r\n    }\r\n\r\n    public getEmails(): string[] {\r\n        return checkValidationEmails(this.emails).map(item => {\r\n            return item.name;\r\n        });\r\n    }\r\n}\r\n"],"names":[],"mappings":"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"}