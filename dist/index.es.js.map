{"version":3,"file":"index.es.js","sources":["../src/index.ts"],"sourcesContent":["import './index.sass';\r\nimport { ICreateEmailForm } from './ICreateEmailForm';\r\n\r\nexport default class CreateEmailForm implements ICreateEmailForm {\r\n    private element: HTMLElement;\r\n    private placeholderElement: HTMLElement | null = null;\r\n\r\n    private validEmails: string[] = ['john@miro.com', 'mike@miro.com', 'alexander@miro.com'];\r\n    // private invalidEmails: string[] = ['invalid.email'];\r\n\r\n    private setHtmlForm = (): void => {\r\n        this.element.innerHTML =\r\n            '<div class=\"emails-editor_form\">' +\r\n            '<span class=\"emails-editor_email emails-editor_email__valid\">' +\r\n            'john@miro.com' +\r\n            '<span class=\"emails-editor_closebtn\" onclick=\"this.parentElement.style.display=\\'none\\';\">&times;</span>' +\r\n            '</span>' +\r\n            '<span class=\"emails-editor_email emails-editor_email__invalid\">' +\r\n            'invalid.email' +\r\n            '<span class=\"emails-editor_closebtn\" onclick=\"this.parentElement.style.display=\\'none\\';\">&times;</span>' +\r\n            '</span>' +\r\n            '<span class=\"emails-editor_email emails-editor_email__valid\">' +\r\n            'mike@miro.com' +\r\n            '<span class=\"emails-editor_closebtn\" onclick=\"this.parentElement.style.display=\\'none\\';\">&times;</span>' +\r\n            '</span>' +\r\n            '<span class=\"emails-editor_email emails-editor_email__valid\">' +\r\n            'alexander@miro.com' +\r\n            '<span class=\"emails-editor_closebtn\" onclick=\"this.parentElement.style.display=\\'none\\';\">&times;</span>' +\r\n            '</span>' +\r\n            '<span class=\"emails-editor_input\" contenteditable=\"true\">' +\r\n            '</span>' +\r\n            '<span class=\"emails-editor_placeholder\">add more peopleâ€¦</span>' +\r\n            '</div>';\r\n        const divForm = this.element.querySelector('.emails-editor_form');\r\n\r\n        this.placeholderElement = this.element.querySelector('.emails-editor_placeholder');\r\n        if (divForm) {\r\n            divForm.addEventListener('click', this.setFocusInput);\r\n        }\r\n        const divInput = this.element.querySelector('.emails-editor_input');\r\n        if (divInput) {\r\n            divInput.addEventListener('input', e => this.onChangeInput(e));\r\n            divInput.addEventListener('focus', () => this.onFocusInput());\r\n            divInput.addEventListener('blur', e => this.onBlurInput(e));\r\n        }\r\n    };\r\n\r\n    private setFocusInput = (): void => {\r\n        const div = this.element.querySelector('span.emails-editor_input');\r\n        if (div instanceof HTMLElement) {\r\n            div.focus();\r\n        }\r\n    };\r\n\r\n    private onChangeInput = (e: Event | null): void => {\r\n        console.log(e && (e.target as HTMLTextAreaElement).innerText);\r\n    };\r\n\r\n    private onFocusInput = (): void => {\r\n        if (this.placeholderElement) {\r\n            this.placeholderElement.style.display = 'none';\r\n        }\r\n        console.log('onFocusInput', this.placeholderElement);\r\n    };\r\n\r\n    private onBlurInput = (e: Event | null): void => {\r\n        if (this.placeholderElement) {\r\n            this.placeholderElement.style.display = 'inline-block';\r\n        }\r\n        console.log('onBlurInput', e, this.placeholderElement);\r\n    };\r\n\r\n    constructor(element: HTMLElement) {\r\n        this.element = element;\r\n        this.setHtmlForm();\r\n    }\r\n\r\n    public setEmail(): string {\r\n        return 'setEmail';\r\n    }\r\n\r\n    public getEmail(): string[] {\r\n        return this.validEmails;\r\n    }\r\n}\r\n"],"names":[],"mappings":"AAGA;IAqEI,yBAAY,OAAoB;QAAhC,iBAGC;QAtEO,uBAAkB,GAAuB,IAAI,CAAC;QAE9C,gBAAW,GAAa,CAAC,eAAe,EAAE,eAAe,EAAE,oBAAoB,CAAC,CAAC;;QAGjF,gBAAW,GAAG;YAClB,KAAI,CAAC,OAAO,CAAC,SAAS;gBAClB,kCAAkC;oBAClC,+DAA+D;oBAC/D,eAAe;oBACf,0GAA0G;oBAC1G,SAAS;oBACT,iEAAiE;oBACjE,eAAe;oBACf,0GAA0G;oBAC1G,SAAS;oBACT,+DAA+D;oBAC/D,eAAe;oBACf,0GAA0G;oBAC1G,SAAS;oBACT,+DAA+D;oBAC/D,oBAAoB;oBACpB,0GAA0G;oBAC1G,SAAS;oBACT,2DAA2D;oBAC3D,SAAS;oBACT,iEAAiE;oBACjE,QAAQ,CAAC;YACb,IAAM,OAAO,GAAG,KAAI,CAAC,OAAO,CAAC,aAAa,CAAC,qBAAqB,CAAC,CAAC;YAElE,KAAI,CAAC,kBAAkB,GAAG,KAAI,CAAC,OAAO,CAAC,aAAa,CAAC,4BAA4B,CAAC,CAAC;YACnF,IAAI,OAAO,EAAE;gBACT,OAAO,CAAC,gBAAgB,CAAC,OAAO,EAAE,KAAI,CAAC,aAAa,CAAC,CAAC;aACzD;YACD,IAAM,QAAQ,GAAG,KAAI,CAAC,OAAO,CAAC,aAAa,CAAC,sBAAsB,CAAC,CAAC;YACpE,IAAI,QAAQ,EAAE;gBACV,QAAQ,CAAC,gBAAgB,CAAC,OAAO,EAAE,UAAA,CAAC,IAAI,OAAA,KAAI,CAAC,aAAa,CAAC,CAAC,CAAC,GAAA,CAAC,CAAC;gBAC/D,QAAQ,CAAC,gBAAgB,CAAC,OAAO,EAAE,cAAM,OAAA,KAAI,CAAC,YAAY,EAAE,GAAA,CAAC,CAAC;gBAC9D,QAAQ,CAAC,gBAAgB,CAAC,MAAM,EAAE,UAAA,CAAC,IAAI,OAAA,KAAI,CAAC,WAAW,CAAC,CAAC,CAAC,GAAA,CAAC,CAAC;aAC/D;SACJ,CAAC;QAEM,kBAAa,GAAG;YACpB,IAAM,GAAG,GAAG,KAAI,CAAC,OAAO,CAAC,aAAa,CAAC,0BAA0B,CAAC,CAAC;YACnE,IAAI,GAAG,YAAY,WAAW,EAAE;gBAC5B,GAAG,CAAC,KAAK,EAAE,CAAC;aACf;SACJ,CAAC;QAEM,kBAAa,GAAG,UAAC,CAAe;YACpC,OAAO,CAAC,GAAG,CAAC,CAAC,IAAK,CAAC,CAAC,MAA8B,CAAC,SAAS,CAAC,CAAC;SACjE,CAAC;QAEM,iBAAY,GAAG;YACnB,IAAI,KAAI,CAAC,kBAAkB,EAAE;gBACzB,KAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;aAClD;YACD,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,KAAI,CAAC,kBAAkB,CAAC,CAAC;SACxD,CAAC;QAEM,gBAAW,GAAG,UAAC,CAAe;YAClC,IAAI,KAAI,CAAC,kBAAkB,EAAE;gBACzB,KAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,OAAO,GAAG,cAAc,CAAC;aAC1D;YACD,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC,EAAE,KAAI,CAAC,kBAAkB,CAAC,CAAC;SAC1D,CAAC;QAGE,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,WAAW,EAAE,CAAC;KACtB;IAEM,kCAAQ,GAAf;QACI,OAAO,UAAU,CAAC;KACrB;IAEM,kCAAQ,GAAf;QACI,OAAO,IAAI,CAAC,WAAW,CAAC;KAC3B;IACL,sBAAC;AAAD,CAAC;;;;"}