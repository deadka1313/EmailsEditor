{"version":3,"file":"index.js","sources":["../src/index.ts"],"sourcesContent":["import './index.sass';\r\nimport { ICreateEmailForm } from './ICreateEmailForm';\r\n\r\nexport default class CreateEmailForm implements ICreateEmailForm {\r\n    private element: HTMLElement;\r\n\r\n    private validEmails: string[] = [];\r\n\r\n    private setHtmlForm = (): void => {\r\n        this.element.innerHTML =\r\n            '<div class=\"emails-editor_form\">' +\r\n            '<span class=\"emails-editor_email emails-editor_email__valid\">john@miro.com</span>' +\r\n            '<span class=\"emails-editor_email emails-editor_email__invalid\">invalid.email</span>' +\r\n            '<span class=\"emails-editor_email emails-editor_email__valid\">mike@miro.com</span>' +\r\n            '<span class=\"emails-editor_email emails-editor_email__valid\">alexander@miro.com</span>' +\r\n            '<span class=\"emails-editor_input\" contenteditable=\"true\">' +\r\n            '</span>' +\r\n            '<span class=\"emails-editor_placeholder\">add more peopleâ€¦</span>' +\r\n            '</div>';\r\n        const divForm = this.element.querySelector('.emails-editor_form');\r\n        if (divForm) {\r\n            divForm.addEventListener('click', this.setFocusInput);\r\n        }\r\n        const divInput = this.element.querySelector('.emails-editor_input');\r\n        if (divInput) {\r\n            divInput.addEventListener('input', e => this.onChangeInput(e));\r\n        }\r\n    };\r\n\r\n    private setFocusInput = (): void => {\r\n        const div = this.element.querySelector('span.emails-editor_input');\r\n        if (div instanceof HTMLElement) {\r\n            div.focus();\r\n        }\r\n    };\r\n\r\n    private onChangeInput = (e: Event | null): void => {\r\n        console.log(e && (e.target as HTMLTextAreaElement).innerText);\r\n    };\r\n\r\n    constructor(element: HTMLElement) {\r\n        this.element = element;\r\n        this.setHtmlForm();\r\n    }\r\n\r\n    public setEmail(): string {\r\n        return 'setEmail';\r\n    }\r\n\r\n    public getEmail(): string[] {\r\n        return this.validEmails;\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;AAGA;IAqCI,yBAAY,OAAoB;QAAhC,iBAGC;QArCO,gBAAW,GAAa,EAAE,CAAC;QAE3B,gBAAW,GAAG;YAClB,KAAI,CAAC,OAAO,CAAC,SAAS;gBAClB,kCAAkC;oBAClC,mFAAmF;oBACnF,qFAAqF;oBACrF,mFAAmF;oBACnF,wFAAwF;oBACxF,2DAA2D;oBAC3D,SAAS;oBACT,iEAAiE;oBACjE,QAAQ,CAAC;YACb,IAAM,OAAO,GAAG,KAAI,CAAC,OAAO,CAAC,aAAa,CAAC,qBAAqB,CAAC,CAAC;YAClE,IAAI,OAAO,EAAE;gBACT,OAAO,CAAC,gBAAgB,CAAC,OAAO,EAAE,KAAI,CAAC,aAAa,CAAC,CAAC;aACzD;YACD,IAAM,QAAQ,GAAG,KAAI,CAAC,OAAO,CAAC,aAAa,CAAC,sBAAsB,CAAC,CAAC;YACpE,IAAI,QAAQ,EAAE;gBACV,QAAQ,CAAC,gBAAgB,CAAC,OAAO,EAAE,UAAA,CAAC,IAAI,OAAA,KAAI,CAAC,aAAa,CAAC,CAAC,CAAC,GAAA,CAAC,CAAC;aAClE;SACJ,CAAC;QAEM,kBAAa,GAAG;YACpB,IAAM,GAAG,GAAG,KAAI,CAAC,OAAO,CAAC,aAAa,CAAC,0BAA0B,CAAC,CAAC;YACnE,IAAI,GAAG,YAAY,WAAW,EAAE;gBAC5B,GAAG,CAAC,KAAK,EAAE,CAAC;aACf;SACJ,CAAC;QAEM,kBAAa,GAAG,UAAC,CAAe;YACpC,OAAO,CAAC,GAAG,CAAC,CAAC,IAAK,CAAC,CAAC,MAA8B,CAAC,SAAS,CAAC,CAAC;SACjE,CAAC;QAGE,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,WAAW,EAAE,CAAC;KACtB;IAEM,kCAAQ,GAAf;QACI,OAAO,UAAU,CAAC;KACrB;IAEM,kCAAQ,GAAf;QACI,OAAO,IAAI,CAAC,WAAW,CAAC;KAC3B;IACL,sBAAC;AAAD,CAAC;;;;"}