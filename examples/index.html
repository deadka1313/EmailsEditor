<!DOCTYPE html>

<html>
    <head>
        <title>Example</title>
        <meta charset="UTF-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

        <!-- CSS -->
        <link rel="stylesheet" type="text/css" href="../dist/index.min.css"/>
        <link rel="stylesheet" type="text/css" href="./index.css"/>
        <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Open+Sans" />
    </head>

    <body id="body">

        <div class="parent">
            <div class="example-form">
                <div class="example-form_main-block">
                    <div class="example-form_header">Share <span class="example-form_header__bold">Board name</span> with others</div>
                    <div id="emails-input"></div><div id="emails-input1"></div>
                </div>
                <div class="example-form_footer">
                    <button class="example-button" onclick="setEmail()">Add email</button>
                    <button class="example-button" onclick="getEmails()">Get emails count</button>
                </div>
            </div>
        </div>
        <div id="example-alert"></div>

        <script type="text/javascript" src="../dist/index.min.js"></script>
        <script>
            const inputContainerNode = document.querySelector('#emails-input');
            const emailsEditor = new EmailsEditor(inputContainerNode);
            function setEmail() {
                let chars = 'abcdefghijklmnopqrstuvwxyz1234567890';
                let email = '';
                const lengthEmail = Math.floor(Math.random() * Math.floor(9) + 5);
                for(let i = 0; i < lengthEmail; i++){
                  email += chars[Math.floor(Math.random() * chars.length)];
                }
                emailsEditor.setEmail(email +'@mail.com');
            }
            function getEmails() {
                const emails =  emailsEditor.getEmails();
                let emailsAlertString = emailsEditor.getEmails().length + ' valid emails \n';
                for( let i = 0; i < emails.length; i++) {
                    emailsAlertString += ' ' + emails[i];
                }
                alert(emailsAlertString);
            }
        </script>

    </body>

</html>
